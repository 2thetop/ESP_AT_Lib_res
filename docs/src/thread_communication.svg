<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1081px" height="621px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/7.8.7 Chrome/58.0.3029.110 Electron/1.7.5 Safari/537.36&quot; version=&quot;7.8.8&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;c7558073-3199-34d8-9f00-42111426c3f3&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g transform="translate(0.5,0.5)"><rect x="360" y="0" width="320" height="620" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><rect x="760" y="0" width="320" height="380" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><rect x="0" y="0" width="280" height="470" fill="#e1d5e7" stroke="#9673a6" pointer-events="none"/><g transform="translate(51.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="170" height="46" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">USER THREAD 1:<div>Connect to server</div></div></div></foreignObject><text x="85" y="33" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">USER THREAD 1:&lt;div&gt;Connect to server&lt;/div&gt;</text></switch></g><path d="M 520 90 L 520 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 108.88 L 516.5 101.88 L 520 103.63 L 523.5 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="50" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(430.5,63.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="178" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 178px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait message from user threads.</div></div></foreignObject><text x="89" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait message from user threads.</text></switch></g><rect x="30" y="120" width="220" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(31.5,129.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="216" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 216px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Set message type to start a new connection, fill connection type, host, port and choose if command is blocking</div></div></foreignObject><text x="108" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="30" y="60" width="220" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(31.5,66.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="216" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 216px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Get message from memory manager for a new command message</div></div></foreignObject><text x="108" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Get message from memory manager for a new command message</text></switch></g><path d="M 140 100 L 140 113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 140 118.88 L 136.5 111.88 L 140 113.63 L 143.5 111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(436.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="166" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Producing thread</div></div></foreignObject><text x="83" y="21" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">Producing thread</text></switch></g><g transform="translate(831.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="175" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Processing thread</div></div></foreignObject><text x="88" y="21" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">Processing thread</text></switch></g><rect x="60" y="280" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(61.5,289.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 156px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Create new semaphore <b>sem</b> for synchronization and lock it immediatelly</div></div></foreignObject><text x="78" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 140 200 L 180 230 L 140 260 L 100 230 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(107.5,223.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="65" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Is blocking?</div></div></foreignObject><text x="33" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Is blocking?</text></switch></g><path d="M 140 180 L 140 193.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 140 198.88 L 136.5 191.88 L 140 193.63 L 143.5 191.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 180 230 L 320 230 L 320 70 L 373.63 70" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 378.88 70 L 371.88 73.5 L 373.63 70 L 371.88 66.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(160.5,186.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 78px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">No, send and return OK</div></div></foreignObject><text x="39" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">No, send and return OK</text></switch></g><g transform="translate(149.5,263.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="20" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 20px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Yes</div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Yes</text></switch></g><path d="M 140 260 L 140 273.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 140 278.88 L 136.5 271.88 L 140 273.63 L 143.5 271.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 310 L 250 310 L 250 236.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 250 231.12 L 253.5 238.12 L 250 236.37 L 246.5 238.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="60" y="360" width="160" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(61.5,372.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 156px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait semaphore to be ready again, free semaphore and message memory then return command result</div></div></foreignObject><text x="78" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 140 340 L 140 353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 140 358.88 L 136.5 351.88 L 140 353.63 L 143.5 351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 150 L 520 163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 168.88 L 516.5 161.88 L 520 163.63 L 523.5 161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="110" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(381.5,116.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Lock synchronization <b>sync_sem</b> semaphore between producing and processing threads</div></div></foreignObject><text x="138" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Lock synchronization &lt;b&gt;sync_sem&lt;/b&gt;&amp;nbsp;semaphore between producing and processing threads</text></switch></g><path d="M 520 240 L 520 253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 258.88 L 516.5 251.88 L 520 253.63 L 523.5 251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="170" width="280" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(381.5,177.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Send data to AT port for command, such as "<b>AT+CIPSTART=0,"type","host",port</b>". Every command message has different initial AT command</div></div></foreignObject><text x="138" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 520 300 L 520 313.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 318.88 L 516.5 311.88 L 520 313.63 L 523.5 311.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="260" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(403.5,273.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="232" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 234px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait for <b>sync_sem</b> semaphore to be ready</div></div></foreignObject><text x="116" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait for &lt;b&gt;sync_sem&lt;/b&gt;&amp;nbsp;semaphore to be ready</text></switch></g><path d="M 455 375 L 445 375 L 445 433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 445 438.88 L 441.5 431.88 L 445 433.63 L 448.5 431.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 585 375 L 595 375 L 595 433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 595 438.88 L 591.5 431.88 L 595 433.63 L 598.5 431.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 520 320 L 585 375 L 520 430 L 455 375 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(456.5,361.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Is the command message blocking?</div></div></foreignObject><text x="63" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Is the command message blocking?</text></switch></g><path d="M 445 530 L 445 550 L 521 550 L 521 555.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 521 560.88 L 517.5 553.88 L 521 555.63 L 524.5 553.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="440" width="130" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(381.5,443.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="82" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Set command result according to AT port status, release message <b>sem</b> semaphore to unblock user thread</div></div></foreignObject><text x="63" y="47" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 595 530 L 595 550 L 521 550 L 521 555.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 521 560.88 L 517.5 553.88 L 521 555.63 L 524.5 553.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="530" y="440" width="130" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(531.5,450.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Release command message memory and notify user with callback function about result</div></div></foreignObject><text x="63" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(424.5,358.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="20" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 20px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Yes</div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Yes</text></switch></g><g transform="translate(591.5,358.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="16" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 17px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">No</div></div></foreignObject><text x="8" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">No</text></switch></g><rect x="450" y="560" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(488.5,573.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 53px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Start over</div></div></foreignObject><text x="26" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Start over</text></switch></g><path d="M 920 90 L 920 103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 108.88 L 916.5 101.88 L 920 103.63 L 923.5 101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="50" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(860.5,63.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="118" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 120px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait data from AT port</div></div></foreignObject><text x="59" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait data from AT port</text></switch></g><path d="M 920 190 L 920 208.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 213.88 L 916.5 206.88 L 920 208.63 L 923.5 206.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="110" width="280" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(781.5,115.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Process received data. If message is control global such as <b>WIFI CONNECTED</b> or <b>0,CONNECT</b>, notify user by calling callback function immediatelly. The same functionality applies for <b>+IPD</b> statement with received network data from connection.</div></div></foreignObject><text x="138" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 920 295 L 920 308.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 313.88 L 916.5 306.88 L 920 308.63 L 923.5 306.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="780" y="215" width="280" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(781.5,227.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">When OK or ERROR message is received and command message is active, release <b>sync_sem</b> semaphore to allow producing thread to continue</div></div></foreignObject><text x="138" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="855" y="315" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(893.5,328.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 53px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Start over</div></div></foreignObject><text x="26" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Start over</text></switch></g></g></svg>